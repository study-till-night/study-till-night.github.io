[{"title":"python爬虫初级教程","date":"2021-08-06T10:16:42.000Z","url":"/2021/08/06/python%E7%88%AC%E8%99%AB%E5%88%9D%E7%BA%A7%E6%95%99%E7%A8%8B/","tags":[["IT","/tags/IT/"]],"categories":[["IT","/categories/IT/"]],"content":"-爬虫简介python爬虫就是运用python语言中强大的第三方库模拟浏览器向网站发送请求，爬取目标网站HTML源码并进行解析从而得到希望的信息的一种手段。下面以爬取豆瓣TOP250电影信息作为爬虫初级的案例。本文只以豆瓣案例为例对爬虫的基本流程做大致归纳，代码详细含义还请另外查找教程。 -所需第三方库 urllib 模拟浏览器发出请求并接收响应 bs4 解析html代码 re 正则表达式 time 爬取间隙以休眠方式实现 xlsxwriter excel相关 pymssql 数据库相关 -主体函数 askinfo函数 获取网页源码 在浏览器调试模式下（F12）network选项， 刷新页面后立即暂停记录，选取靠前位置的记录并打开headers信息获取浏览器user-agent ，保存以备后用。缺失此步有大概率会导致爬虫被识别从而被禁止访问。 使用urllib.request.Request发送信息，参数传递为网站url、之前获取的头部、请求方式。接收反馈， read并用utf解码（注意休眠），返回解码后的html源码。 getdata函数 对爬取的源码进行分析提炼 声明html分析器的bs变量，解析askinfo函数返回的html源码。利用bs库的查找函数找到目标信息对应的html标签大致位置。运用正则表达式分别搜索不同类型的信息。（正则表达式使用re库预先进行处理） 将正则表达式返回的信息填入当前子列表,子列表入父列表,返回最终的父列表。 savedata函数 存储数据（以存入excel为例） 参数传入保存路径和getdata返回的列表，运用xlsxwriter库创建新文件的新工作表，将列表中子列表元素填入文件对应行列。最后关闭文件。成果如下。（部分） savedata函数（以存入数据库为例） 参数传入为getdata返回的列表。本文讨论存入mysql 。存入sqlserver，sqlite等数据库方式类似。 1.initdb函数 创建数据库 连接数据库，填入对应host、 user、 password、 database、 charset，连接之前在cmd输入services.msc，找到mysql的服务并启用。获取游标,编写创建表单的sql语句（建议在workbench中新建查询复制过去执行验证是否正确）。执行sql语句, 提交结果。关闭游标，关闭连接。 2.savedata函数 数据填入部分实现 对于获取到的列表中每一个子列表中的每一个子元素，进行首尾添加双引号处理，避免之后执行sql语句时产生二义。 连接数据库（同initdb函数） 编写sql插入语句，通过join函数对子列表每一个元素用逗号分割，将整个子列表用%s方式传入sql语句中，执行sql语句，上传结果。关闭游标，关闭连接。数据导入完成。 使用python爬虫爬取豆瓣top250电影信息工作完成 -ps：数据可视化内容可自行了解 若只为获取信息上述知识足以应付。若希望做出以采集信息并呈现为主打功能的网站项目，数据可视化的知识需要掌握。 一种可选的组合： python入门级web应用开发框架flask 图表框架 Echarts词云WordCloud 用于词汇出现频率处理及对应展示。 此组合为数据可视化的一类选择搭配 并非固定。有兴趣者可深入了解相关框架及应用。 "},{"title":"火影忍者里的神话背景","date":"2021-08-05T10:14:30.000Z","url":"/2021/08/05/%E7%81%AB%E5%BD%B1%E5%BF%8D%E8%80%85%E9%87%8C%E7%9A%84%E7%A5%9E%E8%AF%9D%E8%83%8C%E6%99%AF/","tags":[["动漫","/tags/%E5%8A%A8%E6%BC%AB/"],["火影","/tags/%E7%81%AB%E5%BD%B1/"]],"categories":[["动漫","/categories/%E5%8A%A8%E6%BC%AB/"]],"content":" 摘要日漫作品中常将本土神话故事结合到作品当中 火影忍者作为一部篇幅较长的连载番其中也不乏此类内容 佐助和鼬 迪达拉 大蛇丸 大筒木辉夜 -佐助和鼬 宇智波家族两大禁术：伊邪那岐与伊邪那美，相传是日本两大创世神，同时也是夫妻。两人所生子皆为神明。伊邪那美在诞下火神加具土命时被其灼热的火焰烧伤，难产而死。（象征鼬为佐助而死）后独自一人的伊邪那岐在去黄泉寻找妻子反被追杀后，以清水洗左眼，诞下天照；以清水洗右眼，诞下月读；以清水洗鼻，诞下须佐之男。（鼬左眼天照，右眼月读）。 -迪达拉原型为天龙八部里的“非人”存在迦楼罗。性情暴躁，状如巨鸟（小迪载具就是粘土巨鸟）。在鼬收迪达拉入伙时，场景为一所寺庙，庙内摆放着佛教八大明王（象征小迪在此处被降伏）。此外，迦楼罗在印度神话里为自焚而亡，对应小迪最终自爆而死；小迪打佐助时释放过“C4：迦楼罗” -大蛇丸原型可能为酒吞童子（百鬼之首）。肤白貌美，有说法称其为白磷大蛇与人类所生之子。白磷大蛇后被伊邪那岐所放逐的须佐之男所杀死（对应鼬十拳剑封印大蛇丸） -辉夜与君麻吕原型皆取自十世纪日本文学作品《竹取物语》（竹取=辉夜）。日本的月之女神叫做“月读”，月读曾因错杀五谷之神，被贬下凡间，下凡的时候她身长只有三寸，躲在竹管之间。 一名樵夫（名为造麻吕，君麻吕名字的来源）路过，找到月读神并与其妻子一齐将其抚养长大，命名为辉夜姬。 天皇与辉夜姬只是偶然一遇，便倾心不已，可他纵然位高权重，也是求见而不得。辉夜姬始终不愿入宫，三年以来，两人只能通过书信慰情。 每当天上出现月亮的时候，辉夜姬就会望月叹息，老樵夫问她因何事哀怨，她也说不上自己为何忧愁，只感到本能地焦虑起来。某次望月的时候辉夜姬突然告诉樵夫，她本是月上之神，被贬下凡间，现刑期将满，下一次的月圆之夜，夜之国的人就要接自己回去。 老樵夫冲进宫去，奏报天皇，请求天皇派兵阻拦月宫之人抢夺辉夜姬。 天皇急忙派遣两千御林军，将老樵夫的宅院团团围住，并且派人守在屋顶，手持弓箭，但见有人自天上来，便将其乱箭射死。 月圆之夜，宅第四周光芒四射，明亮胜于白昼。天人乘云而下，浮悬空中。 一时之间，所有守军四肢酸麻、头脑眩晕。箭矢乱飞、无一射中。 天人质问老樵夫辉夜姬下落，一开始老樵夫说谎想蒙混过关，可是被天人识破 天人便使用法术破开门窗，高歌曰：“汝为月神，此污秽之地，岂可旧居？”辉夜姬心知无可奈何，便淡然走出，服从命运的安排。 天人们便取来箱箧，内有羽衣、灵药。羽衣可升天，灵药可不死。 天人命辉夜姬服药，辉夜姬只略吃一点，余下的偷偷塞给老人，想让养父长生不死，无奈被天人识破：“凡人岂可长生？” 她给老樵夫写了一封信留作思念，信中述说了分别的悲恸以及未能侍奉终老的遗憾。天人又强行令辉夜姬穿上羽衣，可辉夜姬临走之前还有一事不舍，她请求天人多给自己一点时间，天人不允。辉夜姬再求：“此等不近人情，辉夜姬恕难从命” 辉夜姬执意给天皇写了一封信，言明曾经她不能入宫的苦衷，并且附诗曰：“人世难久留，身着羽衣去。忆君情义重，哀书表寸心”。 辉夜姬在写信的时候偷偷将长生不老药塞入信封，交给将军，而后坐上天车、升天而去。归返月宫、重为月神。 辉夜姬走后，老樵夫终日茶饭不思、泣血捶胸，生了一场大病，旁人劝其服药，樵夫只是说：“风烛残年，何必爱命？爱女已去。苟活无益。”不久后，含恨而终。 天皇得知辉夜姬远赴月宫，亦是悲恸万分，生不如死。 某一天，他召集王公大臣问道：“世界上哪一座山离天最近？” 诸臣答曰：“骏河国的山，离京都最近、离天也最近。” 天皇写下诗句：“佳人难再见，心悲泪交流。纵有不死药，服之何所求。” 天皇将诗书连同不死灵药一齐放在山顶、焚烧殆尽。 从此以后，这座山便称为“不死之山”，也叫“富士山”（富士是“不死”的意思） 最主要的，大筒木一族就是居住在月球的神明，火影里也有交代辉夜自月球而来，后被六道老头用地爆天星封印回了月球。此外，斑开启无限月读复活了辉夜也代表了辉夜作为月读女神的身份。 这些只是火影中背后神话的皮毛，感兴趣的可以自己入个深坑 （/滑稽）。个人认为对故事中存在的神话背景加以了解对于理解人物关系和分析人物形象都相当有了参考，在进一步解析作品内涵方面也能有很好的帮助。 参考文章: 《火影忍者》背后的神话传说"}]